<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="announcementsGrid(mostraBottone, isPersonal)">

    <div class="announcements-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; padding: 1rem;">

        <div th:if="${annunci.isEmpty()}" style="grid-column: 1 / -1; text-align: center; color: gray;">
            <h3>Nessun annuncio trovato.</h3>
        </div>

        <div th:each="annuncio : ${annunci}" class="card" style="border: 1px solid #e5e7eb; border-radius: 10px; overflow: hidden; background: white; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: transform 0.2s;">

            <a th:href="@{/annunci/detail/{id}(id=${annuncio.id})}" style="text-decoration: none; display: block;">
                <img src="https://placehold.co/600x400/4f46e5/white?text=Annuncio" alt="Immagine" style="width: 100%; height: 200px; object-fit: cover;">
            </a>

            <div class="card-body" style="padding: 1.5rem;">

                <a th:href="@{/annunci/detail/{id}(id=${annuncio.id})}" style="text-decoration: none; color: inherit;">
                    <h3 th:text="${annuncio.titolo}"
                        style="margin-top: 0; margin-bottom: 0.5rem; font-size: 1.25rem; color: #1f2937; cursor: pointer;"
                        onmouseover="this.style.color='#4f46e5'; this.style.textDecoration='underline';"
                        onmouseout="this.style.color='#1f2937'; this.style.textDecoration='none';">
                        Titolo Annuncio
                    </h3>
                </a>

                <p style="color: #4f46e5; font-weight: bold; margin-bottom: 1rem;"
                   th:text="'€ ' + ${annuncio.tariffaOraria} + '/h'">€ 0/h</p>

                <div style="font-size: 0.9rem; color: #6b7280; margin-bottom: 1rem;">
                    <i class="fa-solid fa-graduation-cap"></i> <span th:text="${annuncio.corsoLaurea}">Corso</span><br>
                    <i class="fa-solid fa-book"></i> <span th:text="${annuncio.esame}">Esame</span>
                </div>

                <div style="display: flex; gap: 0.5rem;">

                    <a th:href="@{/annunci/detail/{id}(id=${annuncio.id})}"
                       class="btn-primary"
                       style="flex: 1; text-align: center; text-decoration: none; padding: 0.5rem; background-color: #4f46e5; color: white; border-radius: 5px;">
                        Dettagli
                    </a>

                    <div th:if="${isPersonal}" style="display: flex; gap: 0.5rem;">
                        <a th:href="@{/annunci/edit/{id}(id=${annuncio.id})}"
                           class="btn-secondary"
                           title="Modifica"
                           style="padding: 0.5rem; background-color: #f59e0b; color: white; border-radius: 5px; text-decoration: none;">
                            <i class="fa-solid fa-pen"></i>
                        </a>
                        <a th:href="@{/annunci/delete/{id}(id=${annuncio.id})}"
                           onclick="return confirm('Sei sicuro di voler eliminare questo annuncio?')"
                           class="btn-secondary"
                           title="Elimina"
                           style="padding: 0.5rem; background-color: #ef4444; color: white; border-radius: 5px; text-decoration: none;">
                            <i class="fa-solid fa-trash"></i>
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

</body>
</html>